<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="alternate"
      type="application/rss+xml"
      href="https://vlnn.dev/rss.xml"
      title="RSS feed for https://vlnn.dev/">
<title>Generalistic writings from @vlnn</title>
<meta name="author" content="Volodymyr Anokhin (@vlnn)">
<meta name="referrer" content="no-referrer">
<meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1">
<link href= "static/style.css" rel="stylesheet" type="text/css" />
<link rel="icon" href="static/favicon.ico"></head>
<body>
<div id="preamble" class="status"><div class="header">
  <a href="https://vlnn.dev">Generalistic writings from @vlnn</a>
</div></div>
<div id="content">
<h1 class="title">Posts tagged "clojure":</h1>
<div class="post-date">20 May 2024</div><h1 class="post-title"><a href="https://vlnn.dev/2024-05-20-solution-to-the-repl-snippets-(using-emacs-ofc).html">THE Solution to the REPL snippets (using Emacs ofc)</a></h1>
<p>
Miro Bezjak wrote an interesting post called <a href="https://mbezjak.github.io/posts/what-to-do-with-evaluated-repl-expressions/">What to Do With Evaluated REPL Expressions?</a>. The problem he describes is actually a bit different from the one I thought of when saw the title: it&rsquo;s not about re-using evaluation results in the REPL (which is not really possible without re-evaluation or using weird numbering acces &#x2013; as far as I know). No, it&rsquo;s really about the expressions that should not go into the the released code, but the one the developer uses during the development &#x2013; small chunks of the code with ops-tasks, small checks, calls to the external systems etc. Miro suggests to create the out-of-classpath user directory for every project developer, and create a common place for all those code snippets called everything.clj or something like that. This file should be committed to the repo (thus shared and easily referenced between the developers), but not become the part of &ldquo;official code&rdquo; (hopefully not even being compiled while release process).
</p>

<p>
I like the approach but I dislike several little problems that come with it. First of all, &ldquo;operational&rdquo; snippets are often bound to the exact configuration &#x2013; hostnames, port numbers etc. Even secrets! Thus, you shouldn&rsquo;t share it as is: they should either become some developer environment script, or go away with the repl history. Don&rsquo;t encourage other users look into the pie if you&rsquo;re not sure it is the same pie you&rsquo;re both having.
</p>

<p>
But my main concern is that the problem is being resolved on wrong level. There are special programs that are perfect for using and managing snippets called text editors. Every text editor (and hopefully any IDE) provide search, copy and paste capability. Emacs even has a built-in buffer that can be used specifically for that reason called scratch buffer: something written there for the moment, edited, ran, saved somewhere else&#x2026; and then scratched out as new tasks are coming. You may even configure project-related scratch buffer that will not erase its text after restart of Emacs. So for the development itself you may safely use scratch buffer (or anything having same function in <span class="underline">your</span> editor of choice). But what if you want to reuse it? Create either a devenv script or yasnippet file. What if you want to share it with colleagues? Use gist (or even better internal wiki). In that way when the code will change the behaviour (due to your or your colleauges&rsquo; work on the code or infrastructure) the snippet will not be incorrectly bound to the updated code. The script is outdated? Well, update it on separate PR, or let someone else do it. Wiki is outdated? Fix it on the spot. The idea is that the production code should not be contaminated with the operational code &#x2013; or it should be a well-designed <span class="underline">part of the code</span>.
</p>
<div class="taglist"><a href="https://vlnn.dev/tags.html">Tags</a>: <a href="https://vlnn.dev/tag-discussion.html">discussion</a> <a href="https://vlnn.dev/tag-repl.html">repl</a> <a href="https://vlnn.dev/tag-clojure.html">clojure</a> <a href="https://vlnn.dev/tag-emacs.html">emacs</a> </div><div id="archive">
<a href="https://vlnn.dev/archive.html">Other posts</a>
</div>
</div>
<div id="postamble" class="status"><div id="archive">
  <a href="https://vlnn.dev/archive.html">Other posts</a>
</div>
<center><a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a><br /><span xmlns:dct="https://purl.org/dc/terms/" href="https://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">bastibe.de</span> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://bastibe.de" property="cc:attributionName" rel="cc:attributionURL">Bastian Bechtold</a> is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</center></div>
</body>
</html>
